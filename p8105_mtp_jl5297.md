p8105\_mtp\_jl5297
================
JunLu
10/16/2018

Overview
--------

This document conducts analyses focused on understanding patterns of physical activity of a patient over 47 weeks. The data for this project was collected on a 63 year-old male with BMI 25, who was admitted to the Advanced Cardiac Care Center of Columbia University Medical Center and diagnosed with congestive heart failure. He wore an accelerometerdevice that continuously recorded physical activity for several months.

All analyses in this document are based on data in “p8105\_mtp\_data.csv”.

Data cleaning
-------------

``` r
activity_df = read_csv("./data/p8105_mtp_data.csv") %>% 
    gather(key = minute, value = activity_counts, activity.1:activity.1440) %>%
    mutate(minute = str_replace(minute, "activity.", ""),
           day = fct_relevel(day, c("Sunday", "Monday", "Tuesday","Wednesday", "Thursday", "Friday", "Saturday")),
           minute = as.integer(minute)) %>% 
    arrange(week, day, minute)

str(activity_df)
## Classes 'tbl_df', 'tbl' and 'data.frame':    473760 obs. of  4 variables:
##  $ week           : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ day            : Factor w/ 7 levels "Sunday","Monday",..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ minute         : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ activity_counts: num  1 1 1 1 1 1 1 1 1 1 ...
```

We load the data from “p8105\_mtp\_data.csv” and use `gather` to go from wide to long formats. Some variables(`minute` and `day`) are transformed into integer and factor as necessary. There are 473760 observations and 4 variables.

-   `week`: Week of observation
-   `day`: Day of week
-   `minute`: Minute of observation
-   `activity_counts`: Electrical signals value in one minute epochs that are a proxy for acceleration

Total activity analysis
-----------------------

### 1. Total activity trend analysis

``` r
activity_df %>% 
    group_by(week) %>% 
    summarise(total_activity = sum(activity_counts)) %>% 
    ggplot(aes(x = week, y = total_activity)) +
    geom_point() +
    geom_line() +
    geom_smooth() +
    labs(
        title = "Week Total Activity Counts vs Week",
        x = "Week",
        y = "Week total activity counts"
    )
```

<img src="p8105_mtp_jl5297_files/figure-markdown_github/total_activity_trend-1.png" width="90%" /> We aggregate accross minutes of each week to create a total activity variable and then make a scatterplot of total activity over weeks. While there has been large variability, the total activity has an upward trend over weeks. We can infer that this patient became more active over time. Notably, the total activity counts of the third week is extremely low.
